# ‚úÖ Loginus –ø—Ä–æ–µ–∫—Ç - –°—Ç–∞—Ç—É—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏

## üì¶ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- ‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω –∏–∑ `https://github.com/teramisuslik/vselena`
- ‚úÖ Backend —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ `loginus-backend/`
- ‚úÖ Frontend —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ `frontend/`

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã `system_settings`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è `CreateInvitations` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `acceptedById`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è `CreateOrganizationRoles` - –¥–æ–±–∞–≤–ª–µ–Ω—ã IF EXISTS –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–µ–Ω–∞ –∫–æ–ª–æ–Ω–æ–∫ —Å snake_case –Ω–∞ camelCase
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö –¥–ª—è `user_role_assignments`

### 3. –ó–∞–ø—É—â–µ–Ω—ã Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
–í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç:
- ‚úÖ PostgreSQL (loginus-db) - –ø–æ—Ä—Ç 5432
- ‚úÖ Backend (loginus-backend) - –ø–æ—Ä—Ç 3001
- ‚úÖ Frontend (loginus-frontend) - –ø–æ—Ä—Ç 3002
- ‚úÖ Adminer (loginus-adminer) - –ø–æ—Ä—Ç 8080

### 4. –í—ã–ø–æ–ª–Ω–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–í—Å–µ 29 –º–∏–≥—Ä–∞—Ü–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ:
- ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –∏ foreign keys —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã (admin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

## üîß –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤

### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç:
- **PostgreSQL Database** - –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ `localhost:5432`
- **Frontend** - –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:3002`
- **Adminer** - –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:8080`

### ‚ö†Ô∏è –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ–±–ª–µ–º—ã –≤ –∫–æ–¥–µ):
- **Backend API** - –æ—à–∏–±–∫–∏ TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

## üêõ –ü—Ä–æ–±–ª–µ–º—ã —Å Backend

Backend –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ TypeScript –≤ —Ñ–∞–π–ª–∞—Ö:
- `src/auth/auth.service.ts` - 7 –æ—à–∏–±–æ–∫
  - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ `findOne`
  - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª—è `username`
  - –ü—Ä–æ–±–ª–µ–º—ã —Å —Ç–∏–ø–∞–º–∏ `null` –∏ `User | null`
- `src/auth/services/multi-auth.service.ts` - 2 –æ—à–∏–±–∫–∏
  - –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ `usersService`

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
- Host: `localhost` (–∏–ª–∏ `postgres` –≤ Docker)
- Port: `5432`
- Database: `loginus_dev`
- Username: `loginus`
- Password: `loginus_secret`

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- organizations
- teams
- users
- roles
- permissions
- user_roles
- role_permissions
- refresh_tokens
- audit_logs
- password_reset_tokens
- email_verification_tokens
- two_factor_codes
- invitations
- user_organizations
- user_teams
- referrals
- system_settings
- organization_roles
- organization_memberships
- team_roles
- team_memberships

### Admin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
- Email: `admin@vselena.ru`
- Password: `admin123` (–Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å hash)

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

```bash
cd loginus-backend
docker-compose up -d
```

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

1. **Frontend**: –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `http://localhost:3002`
2. **Adminer**: –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8080` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î
3. **Backend**: –û–∂–∏–¥–∞–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ TypeScript

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ TypeScript –≤ `auth.service.ts` –∏ `multi-auth.service.ts`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ backend —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ API –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã

## ‚ú® –í—ã–≤–æ–¥

‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
‚úÖ Frontend –∏ Adminer —Ä–∞–±–æ—Ç–∞—é—Ç
‚ö†Ô∏è Backend —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

