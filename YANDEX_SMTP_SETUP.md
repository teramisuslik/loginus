# üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Yandex SMTP –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email-–∫–æ–¥–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞
–¢–µ–∫—É—â–∞—è –æ—à–∏–±–∫–∞: `Invalid login: 535 5.7.8 Error: authentication failed`

## –†–µ—à–µ–Ω–∏–µ: –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è Yandex

Yandex —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è **–ø–∞—Ä–æ–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** –¥–ª—è SMTP, –∞ –Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è –∞–∫–∫–∞—É–Ω—Ç–∞.

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Yandex:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ: https://id.yandex.ru/security
   - –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç `KazakovVladislav2005@yandex.ru`

2. **–í–∫–ª—é—á–∏—Ç–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é (–µ—Å–ª–∏ –Ω–µ –≤–∫–ª—é—á–µ–Ω–∞):**
   - –í —Ä–∞–∑–¥–µ–ª–µ "–î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è" –Ω–∞–∂–º–∏—Ç–µ "–í–∫–ª—é—á–∏—Ç—å"
   - –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

3. **–°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   - –í —Ä–∞–∑–¥–µ–ª–µ "–ü–∞—Ä–æ–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π" –Ω–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å"
   - –í—ã–±–µ—Ä–∏—Ç–µ "–ü–æ—á—Ç–∞" –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å (16 —Å–∏–º–≤–æ–ª–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä: `abcd efgh ijkl mnop`)

4. **–û–±–Ω–æ–≤–∏—Ç–µ docker-compose.yml –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

```bash
ssh root@45.144.176.42
cd /opt/vselena_back
nano docker-compose.yml
```

–ó–∞–º–µ–Ω–∏—Ç–µ:
```yaml
SMTP_PASSWORD: 21092005
```

–ù–∞:
```yaml
SMTP_PASSWORD: abcd-efgh-ijkl-mnop  # ‚Üê –í–∞—à –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ—Ñ–∏—Å—ã)
```

5. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
```bash
docker-compose restart backend
```

6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
```bash
docker logs loginus-backend --tail 50 | grep SMTP
```

–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: `‚úÖ SMTP Server is ready to take our messages`

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥—Ä—É–≥–æ–≥–æ –ø–æ—á—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

–ï—Å–ª–∏ Yandex –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- **Gmail** - –Ω—É–∂–µ–Ω App Password (https://myaccount.google.com/apppasswords)
- **Mail.ru** - —Ç–∞–∫–∂–µ –Ω—É–∂–µ–Ω –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **SendGrid** - API –∫–ª—é—á (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ: 100 –ø–∏—Å–µ–º/–¥–µ–Ω—å)

## –í–∞–∂–Ω–æ
- –ü–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¢–û–õ–¨–ö–û –¥–ª—è SMTP
- –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä–æ–ª—å –∞–∫–∫–∞—É–Ω—Ç–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ü–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ –æ—Ç–æ–∑–≤–∞—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç

